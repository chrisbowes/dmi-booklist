(this["webpackJsonpdmi-booklist"]=this["webpackJsonpdmi-booklist"]||[]).push([[0],{38:function(t,e,n){t.exports=n(54)},43:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(28),i=n.n(o),l=(n(43),n(18)),c=n(11),u=n(8),s=n(6),m=r.a.createContext(),d={listData:[],listDataRange:{from:0,to:5},listItemDetail:{id:null,data:null},userLogin:{loggedIn:!1,userName:null,auth:null},loading:null,error:null,showAddForm:!1},f=JSON.parse(localStorage.getItem("dmiBooklist")),p=localStorage.getItem("dmiBooklist")?f:d;function g(t,e){switch(e.type){case"UPDATE_FROM_LOCALSTORE":return Object(s.a)({},e.payload);case"FETCH_ERROR":return Object(s.a)({},t,{error:e.payload,loading:null});case"FETCH_LIST_DATA_REQUEST":return Object(s.a)({},t,{loading:"listData"});case"FETCH_LIST_DATA_SUCCESS":return Object(s.a)({},t,{},e.payload);case"FETCH_LIST_ITEM_DATA_REQUEST":return Object(s.a)({},t,{listItemDetail:e.payload,loading:"listItemData",error:null});case"FETCH_LIST_ITEM_DATA_SUCCESS":return Object(s.a)({},t,{listItemDetail:e.payload,loading:null});case"LOGIN_REQUEST":return Object(s.a)({},t,{},e.payload,{error:null});case"LOGIN_SUCCESS":return Object(s.a)({},t,{},e.payload);case"LOGIN_FAIL":return Object(s.a)({},t,{error:e.payload});case"LOGOUT":return Object(s.a)({},d,{userLogin:{loggedIn:!1,userName:null,auth:null}});case"ADD_NEW_BOOK":return Object(s.a)({},t,{},e.payload,{error:null});case"SHOW_ADD_FORM":return Object(s.a)({},t,{showAddForm:!0,error:null});case"HIDE_ADD_FORM":return Object(s.a)({},t,{showAddForm:!1});case"CLEAR_DETAILS":return Object(s.a)({},t,{listItemDetail:{id:null,data:null}});case"SET_LIST_RANGE":return Object(s.a)({},t,{listDataRange:e.payload});default:throw new Error}}function E(t){var e=r.a.useReducer(g,p),n=Object(u.a)(e,2),a={state:n[0],dispatch:n[1]};return r.a.createElement(m.Provider,{value:a},t.children)}var A=n(16),b=n(17),h=n(4),v=n.n(h),y=n(1),w=n(2),O=function(t){var e="".concat(t.value.toFixed(2));return r.a.createElement(r.a.Fragment,null,"\u20ac",e)};function D(){var t=Object(y.a)(["\n    color: #666;\n    border-bottom: 1px solid #e1e1e1;\n    padding: 0.4rem 0.2rem;\n\t\tcursor: pointer;\n    div {\n\t\t\tline-height: 1.5;\n    }\n    :hover {\n\t\t\tbackground-color: #f1f1f1;\n    }\n"]);return D=function(){return t},t}var x=w.a.li(D()),C=function(t){var e=r.a.useContext(m).dispatch;return r.a.createElement(x,{onClick:function(){t.data.id?e({type:"FETCH_LIST_ITEM_DATA_REQUEST",payload:{id:t.data.id}}):e({type:"FETCH_LIST_ITEM_DATA_SUCCESS",payload:t.data})}},r.a.createElement("div",null,t.data.title),r.a.createElement("div",null,r.a.createElement(O,{value:t.data.price})))},T={API_URL:"http://assignment.gae.golgek.mobi/api/v1/secure/",PAGING_RANGE:5};function I(){var t=Object(y.a)(["\n\twidth: ",";\n\tpadding: ",";\n\tborder: ",";\n\tborder-radius: 0.1rem;\n\tbox-sizing: border-box;\n\ttext-transform: uppercase;\n\tbackground-color: ",";\n\tcolor: ",";\n\tcursor: pointer;\n\t&[type='submit']{\n\t\tbackground-color: #000000;\n\t}\n\t&[disabled]{\n\t\topacity: 0.4;\n\t\tcursor: default;\n\t}\n"]);return I=function(){return t},t}var j=w.a.button(I(),(function(t){return t.inline?"auto":"100%"}),(function(t){return"slim"===t.mode?"0.5rem 1rem":"1rem"}),(function(t){return"light"===t.tone?"1px solid #999999":"none"}),(function(t){return"light"===t.tone?"#ffffff":"#333333"}),(function(t){return"light"===t.tone?"#666666":"#ffffff"})),L=function(t){return r.a.createElement(j,{disabled:t.buttonDisabled,type:t.buttonType,onClick:t.buttonClickAction,mode:t.mode,tone:t.tone,inline:t.inline},t.children)};function S(){var t=Object(y.a)(["\n\tpadding: 0.5rem;\n\tborder: 1px solid #e1e1e1;\n\tborder-radius: 0.2rem;\n\tbox-sizing: border-box;\n\twidth: 100%;\n\tcolor: #666;\n\tfont-size: 1.2rem;\n"]);return S=function(){return t},t}var R=w.a.input(S()),_=function(t){return r.a.createElement(R,{type:t.inputType,onChange:t.inputChangeAction,name:t.inputName,placeholder:t.inputPlaceholder,step:t.inputStep,pattern:t.inputPattern})};function F(){var t=Object(y.a)(["\n\tdisplay: block;\n\tfont-size: 0.8rem;\n\tmargin: 0.4rem 0;\n\tcolor: #666666;\n"]);return F=function(){return t},t}var k=w.a.label(F()),G=function(t){return r.a.createElement(k,{htmlFor:t.labelHtmlFor},t.children)};function H(){var t=Object(y.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tmargin: 1rem 0;\n"]);return H=function(){return t},t}var B=w.a.div(H()),N=function(){var t=r.a.useContext(m),e=t.state,n=t.dispatch,a=0===e.listDataRange.from,o=e.listData.length<=e.listDataRange.to;return r.a.createElement(B,null,r.a.createElement(L,{buttonClickAction:function(){return n({type:"SET_LIST_RANGE",payload:{from:e.listDataRange.from-T.PAGING_RANGE,to:e.listDataRange.to-T.PAGING_RANGE}})},buttonDisabled:a,mode:"slim",tone:"light",inline:!0},"\xab"),r.a.createElement(L,{buttonClickAction:function(){return n({type:"SET_LIST_RANGE",payload:{from:e.listDataRange.from+T.PAGING_RANGE,to:e.listDataRange.to+T.PAGING_RANGE}})},buttonDisabled:o,mode:"slim",tone:"light",inline:!0},"\xbb"))};function M(){var t=Object(y.a)(["\n\tfont-weight: 200;\n\tpadding: 0;\n\tmargin: 0 0 1rem 0;\n"]);return M=function(){return t},t}function U(){var t=Object(y.a)(["\n\tflex: 1 0 0;\n\tpadding: 1.6rem;\n"]);return U=function(){return t},t}function z(){var t=Object(y.a)(["   \n  margin: 0;\n\tpadding: 0;\n  list-style-type: none;\n"]);return z=function(){return t},t}var Q=w.a.ul(z()),Y=w.a.div(U()),P=w.a.h2(M()),W=function(t){var e=r.a.useContext(m).state,n=t.mobileView?e.listData:e.listData.filter((function(t,n){return n>=e.listDataRange.from&&n<e.listDataRange.to}));return r.a.createElement(Y,null,r.a.createElement(P,null,"Product List"),r.a.createElement(Q,null,n&&n.map((function(t,e){return r.a.createElement(C,{key:e,data:t})}))),!t.mobileView&&r.a.createElement(N,null))},V=n(12);function J(){var t=Object(y.a)(["\n    display: flex;\n    align-items: center;\n    justify-content: space-around;\n    height: ",";\n"]);return J=function(){return t},t}var X=function(t){var e=w.a.div(J(),t.cssHeight);return r.a.createElement(e,null,r.a.createElement(V.a,{icon:"circle-notch",spin:!0,size:"3x",style:{color:"#e1e1e1"}}))},q=function(t,e){return e?{error:"unable to connect to server"}:401===t.status?{error:"Unauthorised, your username or password was not recognised"}:{error:"Unable to complete this operation, the request was incomplete or missing parameters"}},K=function(t,e){var n,a,r,o;return v.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return n="".concat(T.API_URL,"items/").concat(t),a={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(e)}},i.prev=2,i.next=5,v.a.awrap(fetch(n,a));case 5:r=i.sent,i.next=11;break;case 8:return i.prev=8,i.t0=i.catch(2),i.abrupt("return",q(i.t0,!0));case 11:if(r.ok){i.next=13;break}return i.abrupt("return",q(r,!1));case 13:return i.next=15,v.a.awrap(r.json());case 15:return o=i.sent,i.abrupt("return",{success:!0,data:o});case 17:case"end":return i.stop()}}),null,null,[[2,8]])};function Z(){var t=Object(y.a)(["\n\tdisplay: inline-block;\n\tpadding-left: 0.5rem;\n"]);return Z=function(){return t},t}function $(){var t=Object(y.a)(["\n\twidth: 100%;\n\t@media screen and (max-width: 600px){\n\t\tmargin-top: 1rem;\n\t}\n"]);return $=function(){return t},t}function tt(){var t=Object(y.a)(["\n\tmargin: 0;\n"]);return tt=function(){return t},t}function et(){var t=Object(y.a)(["\n\tcolor: #333;\n\tfont-weight: 300;\n"]);return et=function(){return t},t}function nt(){var t=Object(y.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n"]);return nt=function(){return t},t}function at(){var t=Object(y.a)(["\n\tmargin: 1.6rem;\n\tflex: 2;\n"]);return at=function(){return t},t}function rt(){var t=Object(y.a)(["\n\tdisplay: flex;\n\tjustify-content: space-around;\n\tflex-direction: column;\n\talign-content: center;\n\ttext-align: center;\n\tmargin: 1.6rem;\n\tflex: 2;\n\tborder: 1px solid #e1e1e1;\n\tmin-height: 50vh;\n"]);return rt=function(){return t},t}var ot=w.a.div(rt()),it=w.a.article(at()),lt=w.a.div(nt()),ct=w.a.h3(et()),ut=w.a.h4(tt()),st=w.a.img($()),mt=w.a.span(Z()),dt=function(t){var e=r.a.useContext(m),n=e.state,a=e.dispatch;r.a.useEffect((function(){if("listItemData"===n.loading){var t=n.listData.filter((function(t){return t.id===n.listItemDetail.id}))[0];if(t&&t.localStore)a({type:"FETCH_LIST_ITEM_DATA_SUCCESS",payload:t});else{!function(){var t;v.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.awrap(K(n.listItemDetail.id,n.userLogin.auth));case 2:(t=e.sent).success?a({type:"FETCH_LIST_ITEM_DATA_SUCCESS",payload:t.data}):(a({type:"CLEAR_DETAILS"}),a({type:"FETCH_ERROR",payload:t.error}));case 4:case"end":return e.stop()}}))}()}}}),[n,a]);var o=n.listItemDetail,i=o.image?o.image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA8AAAAMcAQMAAACl5F6MAAAABlBMVEW8vsDn6OnyCdevAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEbUlEQVR4AezBMQEAAADCoPVP7WsIoAcAAAAAAAAAAAAAAAAAAAAAAIydO0iOk4eCAGyVXNEuukF0FB1NHE1H0RG0ZEHRf5A99WYMk1T+Kvolw+vVjBf+CkMLoRCFWQkuqCquB3QOOQKrCpwBKJ1i6Jxk/EzTubaArgAHQOeyjhu8aMEafUrYolLjLRMfLrpw5cMYadeBnTLcrwN7ZXi+DhyuCi8GG/xy8Gyw3SRe7n7cLzfnajah5z87keFJ//lYf0WAAq+vv+rDX+fir+zpr2Xqr95qrle/ywr9OxX+/nF19fGRmR/yrzCJCudRqNHiNDHhIlquTBgCF2aX3V2BwYT9nUYdNoNojnqjiKJ56q0xiRaok4EsWqQO2EW0RJ3wQbTMvDc6iFaYswEvkx5Hnf8E0Tx1xhcfj3gh1lhOLHVWnx8vLvBq/FAnYpGBhwEElVfjhyETjVjj5bFanATpLrHIcpDkIstpJRdZLmRykaW63CLLMZKLLGeVXGS5jvlFluZKq8k1lnGMXGMZuck1lnsVu8ZydybXWOYj5BrLDIxcY5lz8mrML/JupPIC02osf3tyjeVqY9dYikys8QlTAUIsFovFYrFYLJaIP8hq8D4GG2ywwQYbbLDBBhtssMEGG2ywwQYb3N9+G/ePwQYbbLDBBhtssMEGG5yhA3ugqcARmFXgDKwqcAGgAsu+J1zYy94UXDjIRxosH+crwUm2euHCWX43Fy7YciUYI9N1YIeRavDpsMdIM9jgs+BOh4PBavA3ras6aMFRC06TEpyrLsy/H5emBKOrwvxZpsOsA3ssOk8SQQ9edZ4WI6DzfJwU4Ym/FCE7ofFXfQoJlnUugRsHdl9GTKBzlxRF6vzVW9kngr5eLTB5hT6MUhPgLfdDRhwQCQ79TQXe756tAWcp10XgIuMYF8aWxoedLtz5sB/wzIeDLrzw4QiRqHBSgOvnwLWFCrc7eCLCbnwrXFh2ZMdHKhEOyx3ciHBch8OHE2TtCZ0IZ0wCz1S4jhGTDhc0ecN9IcLja/qEVwIswqwC+/H3zfgMDw7j95cbPBFg+YEKnIaGWyoNzpvmcEujws0rwGX7LnCnwWOgDLhlZsFuaJEP+zFCC7yw4DCAhFtWFhwHl/lwwpeowRMJzlpw+QpXEgwl2O3gxoH9Du4cOOzgmQNHLTjt4OXF4byDVw5csAsHhhLssM/EgD32qQw4aMER+zQtuDPgpAVn7DMz4IJ9FgYMJdgdwSsB9jgKAQ5acDyEJy24ng8nLTgfwu18uBzC/XwYSrA7hmfCeyCHWU6Hw18Gr4R3fY5zOpy04PwEngj/KfYw9WwYSrB7BjfCW4qH6a8Kh2fwTHgF9jDLyXDSgvMzeKW8UX6Uk2Eowe45PL0m7J/D9VQ4aMG/isH/JwYbbLDBBhtssMEGG2ywtz3K/2tvDmQAAAAABvlbn+NbCSQWi8VisVgsFovFYrFYLBYvAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEHVJjR5bJLd8AAAAASUVORK5CYII=";return r.a.createElement(r.a.Fragment,null,o.id?r.a.createElement(it,null,"listItemData"===n.loading?r.a.createElement(X,{cssHeight:"100%"}):r.a.createElement(r.a.Fragment,null,t.mobileView&&r.a.createElement(L,{buttonClickAction:function(){return a({type:"CLEAR_DETAILS"})},tone:"light"},r.a.createElement(V.a,{icon:"window-close",style:{color:"#999999"}}),r.a.createElement(mt,null,"Back to list")),r.a.createElement(st,{src:i}),r.a.createElement(lt,null,r.a.createElement(ct,null,o.title),r.a.createElement(O,{value:o.price})),r.a.createElement(ut,null,o.author))):r.a.createElement(ot,null,"No Details Selected"))};function ft(){var t=Object(y.a)(["\n\tbackground-color: #c95e5e;\n\tpadding: 2rem;\n\tcolor: #fff;\n\ttext-align: center;\n"]);return ft=function(){return t},t}var pt=w.a.div(ft()),gt=function(){var t=r.a.useContext(m).state;return r.a.createElement(pt,null,t.error)},Et=n(35),At=n(31),bt=n.n(At);function ht(){var t=Object(y.a)(["\n\tdisplay: flex;\n\tmargin: 1rem 0 0 0;\n\t* {\n\t\tflex: 1 1 0;\n\t\t&:first-child {\n\t\t\tmargin-right: 0.5rem;\n\t\t}\n\t\t&:last-child {\n\t\t\tmargin-left: 0.5rem;\n\t\t}\n\t}\n"]);return ht=function(){return t},t}function vt(){var t=Object(y.a)(["\n\tmargin: 0 auto;\n\tmax-width: 960px;\n"]);return vt=function(){return t},t}function yt(){var t=Object(y.a)(["\n\tpadding: 1.6rem;\n\tbackground-color: #f1f1f1;\n"]);return yt=function(){return t},t}var wt=w.a.form(yt()),Ot=w.a.div(vt()),Dt=w.a.div(ht()),xt=function(){var t=r.a.useState(),e=Object(u.a)(t,2),n=e[0],a=e[1],o=r.a.useState(),i=Object(u.a)(o,2),l=i[0],c=i[1],s=r.a.useState(),d=Object(u.a)(s,2),f=d[0],p=d[1],g=r.a.useState(),E=Object(u.a)(g,2),A=E[0],b=E[1],h=r.a.useContext(m),v=h.state,y=h.dispatch,w=!l||!n||!A;return r.a.createElement(wt,{onSubmit:function(t){t.preventDefault();var e={id:bt()(),price:l,title:n,image:f,author:A,localStore:!0},a=[e].concat(Object(Et.a)(v.listData));y({type:"ADD_NEW_BOOK",payload:{listData:a,listDataRange:{from:0,to:T.PAGING_RANGE},showAddForm:!1,listItemDetail:{data:null,id:e.id},loading:"listItemData"}})}},r.a.createElement(Ot,null,r.a.createElement("div",null,r.a.createElement(G,{labelHtmlFor:"bookname"},"Book Name"),r.a.createElement(_,{inputType:"text",inputChangeAction:function(t){return a(t.target.value)},inputName:"bookname"})),r.a.createElement("div",null,r.a.createElement(G,{labelHtmlFor:"authorname"},"Author"),r.a.createElement(_,{inputType:"text",inputChangeAction:function(t){return b(t.target.value)},inputName:"authorname"})),r.a.createElement("div",null,r.a.createElement(G,{labelHtmlFor:"bookprice"},"Book Price"),r.a.createElement(_,{inputType:"number",inputChangeAction:function(t){return c(parseInt(t.target.value))},inputName:"bookprice",inputStep:"0.01",inputPattern:"^\\d+(?:\\.\\d{1,2})?$"})),r.a.createElement("div",null,r.a.createElement(G,{labelHtmlFor:"bookimagesrc"},"Book Image Link"),r.a.createElement(_,{inputType:"text",inputChangeAction:function(t){return p(t.target.value)},inputName:"bookimagesrc"})),r.a.createElement(Dt,null,r.a.createElement(L,{buttonClickAction:function(){y({type:"HIDE_ADD_FORM"})},buttonType:"button",tone:"light"},"Cancel"),r.a.createElement(L,{buttonType:"submit",buttonDisabled:w},"Add Book"))))};function Ct(){var t=Object(y.a)(["\n\tdisplay: inline-block;\n\tpadding-right: 0.5rem;\n\t@media screen and (max-width: 600px){\n\t\tdisplay: none;\n\t}\n"]);return Ct=function(){return t},t}function Tt(){var t=Object(y.a)(["\n\tdisplay: flex;\n\tbutton {\n\t\tflex: 1 1 0;\n\t\twhite-space: nowrap;\n\t\t&:first-child {\n\t\t\tmargin-right: 0.5rem;\n\t\t}\n\t\t&:last-child {\n\t\t\tmargin-left: 0.5rem;\n\t\t}\n\t}\n"]);return Tt=function(){return t},t}function It(){var t=Object(y.a)(["\n\tfont-weight: bold;\n"]);return It=function(){return t},t}function jt(){var t=Object(y.a)(["\n\tcolor: #fff;\n\ttext-transform: uppercase;\n\tmargin: 0;\n\tpadding: 0.3rem 0.5rem;\n\tfont-size: 1rem;\n  border: 1px solid #e1e1e1;\n"]);return jt=function(){return t},t}function Lt(){var t=Object(y.a)(["\n\tpadding: 1rem 1.6rem;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n"]);return Lt=function(){return t},t}function St(){var t=Object(y.a)(["\n\tbackground-color: #000000;\n"]);return St=function(){return t},t}var Rt=w.a.div(St()),_t=w.a.div(Lt()),Ft=w.a.h1(jt()),kt=w.a.span(It()),Gt=w.a.div(Tt()),Ht=w.a.span(Ct()),Bt=function(){var t=r.a.useContext(m),e=t.state,n=t.dispatch,a=e.userLogin.loggedIn&&e.listData.length;return r.a.createElement(Rt,null,r.a.createElement(_t,null,r.a.createElement(Ft,null,r.a.createElement(kt,null,"DMI"),"\xa0Booklist"),a&&r.a.createElement(Gt,null,r.a.createElement(L,{buttonClickAction:function(){return n({type:"SHOW_ADD_FORM"})},buttonText:"Add New Book",buttonType:"button",mode:"slim"},r.a.createElement(Ht,null,"Add New Book"),r.a.createElement(V.a,{icon:"plus-square",style:{color:"#e1e1e1"}})),r.a.createElement(L,{buttonClickAction:function(){localStorage.removeItem("dmiBooklist"),n({type:"LOGOUT"})},buttonType:"button",mode:"slim"},r.a.createElement(Ht,null,"Logout"),r.a.createElement(V.a,{icon:"sign-out-alt",style:{color:"#e1e1e1"}})))))},Nt=function(t){var e,n,a,r;return v.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e="".concat(T.API_URL,"items"),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(t)}},o.prev=2,o.next=5,v.a.awrap(fetch(e,n));case 5:a=o.sent,o.next=11;break;case 8:return o.prev=8,o.t0=o.catch(2),o.abrupt("return",q(o.t0,!0));case 11:if(a.ok){o.next=13;break}return o.abrupt("return",q(a,!1));case 13:return o.next=15,v.a.awrap(a.json());case 15:return r=o.sent,o.abrupt("return",{success:!0,data:r});case 17:case"end":return o.stop()}}),null,null,[[2,8]])};function Mt(){var t=Object(y.a)(["\n\tdisplay: flex;\n\tjustify-content: space-evenly;\n\tmargin: 0 auto;\n\tmax-width: 1200px;\n\t@media screen and (max-width:600px){\n\t\theight: calc(100vh - 62px);\n\t\toverflow: scroll;\n\t}\n"]);return Mt=function(){return t},t}var Ut=w.a.div(Mt()),zt=function(){var t=r.a.useContext(m),e=t.dispatch,n=t.state,a=r.a.useState(),o=Object(u.a)(a,2),i=o[0],l=o[1];r.a.useEffect((function(){if(!n.listData.length&&n.userLogin.loggedIn){e({type:"FETCH_LIST_DATA_REQUEST",payload:"listData"}),function(){var t;v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(Nt(n.userLogin.auth));case 2:(t=a.sent).success?e({type:"FETCH_LIST_DATA_SUCCESS",payload:{listData:t.data,loading:null,userLogin:Object(s.a)({},n.userLogin,{loggedIn:!0})}}):e({type:"FETCH_ERROR",payload:t.error});case 4:case"end":return a.stop()}}))}()}}),[e,n.listData.length,n.userLogin]),r.a.useEffect((function(){localStorage.setItem("dmiBooklist",JSON.stringify(n))}),[n]),r.a.useLayoutEffect((function(){function t(){var t=window.matchMedia("(max-width: 600px)").matches;l(t)}window.addEventListener("resize",t),t()}),[]);var d=!n.userLogin.loggedIn,f=!i||i&&n.listItemDetail.id,p=!i||i&&!n.listItemDetail.id;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt,null),n.showAddForm&&r.a.createElement(xt,null),n.error&&r.a.createElement(gt,null),d&&r.a.createElement(c.a,{to:"/login"}),n.loading&&"listData"===n.loading?r.a.createElement(X,{cssHeight:"calc(100vh - 62px)"}):r.a.createElement(Ut,null,p&&r.a.createElement(W,{mobileView:i}),f&&r.a.createElement(dt,{mobileView:i})))},Qt=n(34),Yt=n.n(Qt),Pt=function(t){var e,n,a;return v.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e="".concat(T.API_URL),n={method:"GET",headers:{"Content-Type":"application/json",Authorization:"Basic ".concat(t)}},r.prev=2,r.next=5,v.a.awrap(fetch(e,n));case 5:a=r.sent,r.next=11;break;case 8:return r.prev=8,r.t0=r.catch(2),r.abrupt("return",q(r.t0,!0));case 11:if(a.ok){r.next=13;break}return r.abrupt("return",q(a,!1));case 13:return r.abrupt("return",{success:!0});case 14:case"end":return r.stop()}}),null,null,[[2,8]])};function Wt(){var t=Object(y.a)(["\n\tmargin: 1rem 0;\n"]);return Wt=function(){return t},t}function Vt(){var t=Object(y.a)(["\n\tmargin: 0 auto;\n\tmax-width: 500px;\n\tpadding: 2rem;\n"]);return Vt=function(){return t},t}function Jt(){var t=Object(y.a)(["\n\tbackground-color: #f1f1f1;\n\theight: 80vh;\n"]);return Jt=function(){return t},t}function Xt(){var t=Object(y.a)(["\n\tdisplay: flex;\n\tjustify-items: stretch;\n\tflex-direction: column;\n"]);return Xt=function(){return t},t}function qt(){var t=Object(y.a)(["\n\ttext-align: center;\n\tcolor: #b6b0b0;\n\tfont-weight: 100;\n\tfont-size: 3rem;\n\theight: 20vh;\n\talign-content: center;\n\tdisplay: flex;\n\tjustify-content: space-around;\n\talign-items: center;\n"]);return qt=function(){return t},t}var Kt=w.a.h1(qt()),Zt=w.a.div(Xt()),$t=w.a.form(Jt()),te=w.a.div(Vt()),ee=w.a.div(Wt()),ne=function(){var t=r.a.useState(),e=Object(u.a)(t,2),n=e[0],a=e[1],o=r.a.useState(),i=Object(u.a)(o,2),l=i[0],s=i[1],d=r.a.useContext(m),f=d.state,p=d.dispatch;r.a.useEffect((function(){f.userLogin.loggedIn&&localStorage.setItem("dmiBooklist",JSON.stringify(f))}),[f,f.userLogin.loggedIn]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Bt,null),f.userLogin.loggedIn&&r.a.createElement(c.a,{to:"/"}),f.loading?r.a.createElement(X,{cssHeight:"calc(100vh - 62px)"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(Zt,null,r.a.createElement(Kt,null,"Login"),r.a.createElement($t,{onSubmit:function(t){t.preventDefault(),p({type:"LOGIN_REQUEST",payload:{loading:"userlogin"}});var e=Yt.a.encode("".concat(n,":").concat(l));!function(){var t;v.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,v.a.awrap(Pt(e));case 2:(t=a.sent).success?p({type:"LOGIN_SUCCESS",payload:{loading:null,error:null,userLogin:{loggedIn:!0,username:n,auth:e}}}):p({type:"FETCH_ERROR",payload:t.error});case 4:case"end":return a.stop()}}))}()}},f.error&&r.a.createElement(gt,null),r.a.createElement(te,null,r.a.createElement("div",null,r.a.createElement(G,{labelHtmlFor:"loginUser"},"User name"),r.a.createElement(_,{name:"loginUser",inputType:"text",inputChangeAction:function(t){return a(t.target.value)}})),r.a.createElement("div",null,r.a.createElement(G,{labelHtmlFor:"loginPassword"},"Password"),r.a.createElement(_,{inputType:"password",name:"loginPassword",inputChangeAction:function(t){return s(t.target.value)}})),r.a.createElement(ee,null,r.a.createElement(L,{buttonType:"submit"},"Login")))))))};A.b.add(b.a,b.c,b.b,b.d);var ae=function(){return r.a.createElement(l.a,null,r.a.createElement(E,null,r.a.createElement(c.b,{path:"/",exact:!0,component:zt}),r.a.createElement(c.b,{path:"/login",exact:!0,component:ne}),r.a.createElement(c.b,{path:"/logout",exact:!0,component:ne})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ae,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[38,1,2]]]);
//# sourceMappingURL=main.7c21685f.chunk.js.map